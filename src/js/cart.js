document.querySelector(".contCartProducts__bodyCart").addEventListener("click",a=>{if("contCartProducts__del"==a.target.className){let b=new FormData;b.append("id_product",a.target.dataset.id),b.append("id_user",a.target.dataset.userid),b.append("oper","-"),fetch("./controller/serv.php",{method:"post",body:b}).then(a=>a.json()).then(b=>{if("-"==b.res){document.querySelector(".contCartProducts__allSumm").innerHTML="$"+b.allSum,document.querySelector(".contCartProducts__allQuantity").innerHTML=b.allQuant+" \u0448\u0442",document.querySelector(".countCart").innerHTML=b.allQuant;let c=document.querySelector(`span[data-quantId = "${a.target.dataset.id}"]`),d=document.querySelector(`span[data-priceId = "${a.target.dataset.id}"]`);c.innerHTML=c.dataset.quant-1+" \u0448\u0442",d.innerHTML="$"+(+c.dataset.quant-1)*d.dataset.price,c.setAttribute("data-quant",`${+c.dataset.quant-1}`)}"rel"==b.res&&window.location.reload()})}if("contCartProducts__add"==a.target.className){let b=new FormData;b.append("id_product",a.target.dataset.id),b.append("id_user",a.target.dataset.userid),b.append("oper","add"),fetch("./controller/serv.php",{method:"post",body:b}).then(a=>a.json()).then(b=>{if("add"==b.res){document.querySelector(".contCartProducts__allSumm").innerHTML="$"+b.allSum,document.querySelector(".contCartProducts__allQuantity").innerHTML=b.allQuant+" \u0448\u0442",document.querySelector(".countCart").innerHTML=b.allQuant;let c=document.querySelector(`span[data-quantId = "${a.target.dataset.id}"]`),d=document.querySelector(`span[data-priceId = "${a.target.dataset.id}"]`);c.innerHTML=+c.dataset.quant+1+" \u0448\u0442",d.innerHTML="$"+(+c.dataset.quant+1)*d.dataset.price,c.setAttribute("data-quant",`${+c.dataset.quant+1}`)}})}if("contCartProducts__allClean"==a.target.className){let b=new FormData;b.append("id_user",a.target.dataset.userid),b.append("oper","alldel"),fetch("./controller/serv.php",{method:"post",body:b}).then(a=>a.json()).then(a=>{"alldel"==a.res&&window.location.reload()})}});